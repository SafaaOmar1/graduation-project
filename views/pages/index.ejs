<!DOCTYPE html>








<html>

<head>

  <style>
    .btn-file {
      position: relative;
      overflow: hidden;
    }

    .btn-file input[type=file] {
      position: absolute;
      top: 0;
      right: 0;
      min-width: 100%;
      min-height: 100%;
      font-size: 100px;
      text-align: right;
      filter: alpha(opacity=0);
      opacity: 0;
      outline: none;
      background: white;
      cursor: inherit;
      display: block;
    }
  </style>
  <% include ../partials/header.ejs %>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>
<html>



<body>


  <% include ../partials/nav.ejs %>

    <div class="form-group">

      <select class="form-control" id="sel1" onchange="onSelectChanged(event)">

      </select>

    </div>

    <div class="form-group">
      <button class="btn btn-primary" onclick="openSelectedTopicExam()"> Go to Questions-> </button>

    </div>

    <br/>
    <form action="createNewOntology" method="post" enctype="multipart/form-data">
      <div class="form-group">

        <input type="file" name="filetoupload">
      </div>

      <div class="form-group">
        topic:
        <input type="text" name="topic">
      </div>

      <br>
      <input type="submit">

    </form>
    <script>
      $.ajax({
        url: "api/topics/list",
        dataType: "json",
        accepts: "application/json"
      }).then(topics => {
        let selectElement = $("#sel1");
        topics.forEach(topic => {
          let topicOption = $(`<option value="${topic}">${topic}</option>`)
            .appendTo(selectElement);
        });
      });

      function onSelectChanged(e) {
        console.log(e.target.value);
      }

      function openSelectedTopicExam(){
        let topic = $("#sel1").val();
        location.href = "questions/" + topic;
      }
    </script>
</body>

</html>